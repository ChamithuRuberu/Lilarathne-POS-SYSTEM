<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.JFXButton?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<AnchorPane fx:id="context" xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.devstack.pos.controller.HelpPageController"
            stylesheets="@styles/modern-dashboard.css"
            style="-fx-background-color: linear-gradient(to bottom right, #f4f4f9, #ffffff);">
    
    <!-- SIDEBAR -->
    <VBox prefWidth="250" spacing="20" styleClass="sidebar-light"
          AnchorPane.leftAnchor="0" 
          AnchorPane.topAnchor="0" 
          AnchorPane.bottomAnchor="0">
        <padding>
            <Insets top="25" right="15" bottom="30" left="15" />
        </padding>
        <children>
            <Text text="Kumara Hardware" styleClass="sidebar-title-light" />
            <Separator style="-fx-max-width: 180; -fx-background-color: #DDDDDD;"/>
            <JFXButton text="ðŸ  Dashboard" onAction="#btnDashboardOnAction" styleClass="sidebar-btn-light" />
            <JFXButton text="ðŸ‘¥ Customers" onAction="#btnCustomerOnAction" styleClass="sidebar-btn-light" />
            <JFXButton text="ðŸ“¦ Products" onAction="#btnProductOnAction" styleClass="sidebar-btn-light" />
            <JFXButton text="ðŸ›’ POS / Orders" onAction="#btnPlaceOrderOnAction" styleClass="sidebar-btn-light" />
            <JFXButton text="ðŸ”„ Return Orders" onAction="#btnReturnsOnAction" styleClass="sidebar-btn-light" />
            <JFXButton text="ðŸ’° Purchasing" onAction="#btnPurchaseOnAction" styleClass="sidebar-btn-light" />
            <JFXButton text="ðŸ“Š Reports" onAction="#btnReportsOnAction" styleClass="sidebar-btn-light" />
            
            <Separator style="-fx-max-width: 180; -fx-background-color: #DDDDDD; "/>
            
            <JFXButton text="â“ Help" onAction="#btnHelpOnAction" styleClass="sidebar-btn-active-light" />
            <JFXButton text="â„¹ï¸ About Us" onAction="#btnAboutUsOnAction" styleClass="sidebar-btn-light" />
            <VBox VBox.vgrow="ALWAYS" />
            <JFXButton text="ðŸšª Logout" onAction="#btnLogoutOnAction" styleClass="sidebar-btn-light" />
        </children>
    </VBox>
    
    <!-- MAIN CONTENT -->
    <VBox spacing="25" AnchorPane.leftAnchor="280" AnchorPane.rightAnchor="30"
          AnchorPane.topAnchor="30" AnchorPane.bottomAnchor="30">
        <children>
            <!-- Header -->
            <HBox alignment="CENTER_LEFT" spacing="20">
                <Text text="â“ Help &amp; User Manual" styleClass="header-title-light"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Text fx:id="txtUserEmail" text="Welcome back, User" styleClass="welcome-text-light"/>
            </HBox>
            
            <!-- Scrollable Content -->
            <ScrollPane VBox.vgrow="ALWAYS" fitToWidth="true" 
                        style="-fx-background: transparent; -fx-background-color: transparent;"
                        styleClass="custom-scroll-pane">
                <VBox spacing="25" style="-fx-padding: 0 20 0 0;">
                
                <!-- Customer Management -->
                <VBox spacing="15" styleClass="card-modern">
                    <Text text="ðŸ‘¥ Customer Management" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    
                    <VBox spacing="10">
                        <Text text="Adding a New Customer:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="1. Navigate to 'Customers' from the sidebar" style="-fx-fill: #64748b;"/>
                        <Text text="2. Click 'New Customer' button" style="-fx-fill: #64748b;"/>
                        <Text text="3. Fill in customer details (Email, Name, Contact, Salary)" style="-fx-fill: #64748b;"/>
                        <Text text="4. Click 'Save Customer' to add the customer" style="-fx-fill: #64748b;"/>
                    </VBox>
                    
                    <VBox spacing="10">
                        <Text text="Searching Customers:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="â€¢ Use the search box to find customers by name or email" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Click on a customer row to view/edit their details" style="-fx-fill: #64748b;"/>
                    </VBox>
                </VBox>
                
                <!-- Product Management -->
                <VBox spacing="15" styleClass="card-modern">
                    <Text text="ðŸ“¦ Product Management (Admin Only)" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    
                    <VBox spacing="10">
                        <Text text="Adding Products:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="1. Navigate to 'Products' from the sidebar" style="-fx-fill: #64748b;"/>
                        <Text text="2. Enter product description" style="-fx-fill: #64748b;"/>
                        <Text text="3. Click 'Save Product'" style="-fx-fill: #64748b;"/>
                        <Text text="4. Select the product and click 'New Batch' to add inventory" style="-fx-fill: #64748b;"/>
                    </VBox>
                    
                    <VBox spacing="10">
                        <Text text="Managing Batches:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="â€¢ Each product can have multiple batches with different prices" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Enter quantity, buying price, selling price, and discount details" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Use barcode scanning for quick product lookup" style="-fx-fill: #64748b;"/>
                    </VBox>
                </VBox>
                
                <!-- Place Order -->
                <VBox spacing="15" styleClass="card-modern">
                    <Text text="ðŸ›’ Place Order (POS)" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    
                    <VBox spacing="10">
                        <Text text="Creating an Order:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="1. Navigate to 'Place Order'" style="-fx-fill: #64748b;"/>
                        <Text text="2. Select or add a customer" style="-fx-fill: #64748b;"/>
                        <Text text="3. Scan or enter product barcode" style="-fx-fill: #64748b;"/>
                        <Text text="4. Enter quantity and click 'Add to Cart'" style="-fx-fill: #64748b;"/>
                        <Text text="5. Review cart items and total" style="-fx-fill: #64748b;"/>
                        <Text text="6. Click 'Print Bill' to complete the order" style="-fx-fill: #64748b;"/>
                    </VBox>
                    
                    <VBox spacing="10">
                        <Text text="Tips:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="â€¢ Discounts are automatically applied if available" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ You can remove items from cart before finalizing" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Orders are automatically saved to the database" style="-fx-fill: #64748b;"/>
                    </VBox>
                </VBox>
                
                <!-- Returns -->
                <VBox spacing="15" styleClass="card-modern">
                    <Text text="ðŸ”„ Return Orders" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    
                    <VBox spacing="10">
                        <Text text="Processing Returns:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="1. Navigate to 'Returns' from the sidebar" style="-fx-fill: #64748b;"/>
                        <Text text="2. Click 'Process New Return'" style="-fx-fill: #64748b;"/>
                        <Text text="3. Enter the Order ID" style="-fx-fill: #64748b;"/>
                        <Text text="4. Review order details" style="-fx-fill: #64748b;"/>
                        <Text text="5. Enter return reason and refund amount" style="-fx-fill: #64748b;"/>
                        <Text text="6. Click 'Process Return' to complete" style="-fx-fill: #64748b;"/>
                    </VBox>
                </VBox>
                
                <!-- Purchase Orders -->
                <VBox spacing="15" styleClass="card-modern">
                    <Text text="ðŸ’° Purchase Orders (Admin Only)" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    
                    <VBox spacing="10">
                        <Text text="Managing Purchase Orders:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="â€¢ View all purchase orders with filtering options" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Filter by status: Pending, Approved, Received, Cancelled" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Filter by date range to find specific orders" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Track purchase order statistics" style="-fx-fill: #64748b;"/>
                    </VBox>
                </VBox>
                
                <!-- Reports -->
                <VBox spacing="15" styleClass="card-modern">
                    <Text text="ðŸ“Š Reports &amp; Analytics (Admin Only)" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    
                    <VBox spacing="10">
                        <Text text="Available Reports:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="â€¢ Sales Reports - Weekly/yearly sales analysis" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Top Products - Best selling items by quantity and revenue" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Sales by Category - Category-wise performance" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Cashier Performance - Sales by individual cashiers" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Profit &amp; Loss - Revenue, costs, and profit analysis" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Tax Summary - Tax calculations and reporting" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Customer Reports - Top customers by orders and spending" style="-fx-fill: #64748b;"/>
                    </VBox>
                    
                    <VBox spacing="10">
                        <Text text="Using Reports:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="â€¢ Select date range to filter data" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Click 'Apply Filter' to update reports" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Use 'Refresh All' to reload all report data" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Switch between tabs to view different reports" style="-fx-fill: #64748b;"/>
                    </VBox>
                </VBox>
                
                <!-- Troubleshooting -->
                <VBox spacing="15" styleClass="card-modern">
                    <Text text="âš ï¸ Troubleshooting" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-fill: #1e293b;"/>
                    <Separator style="-fx-background-color: #e2e8f0;"/>
                    
                    <VBox spacing="10">
                        <Text text="Common Issues:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #334155;"/>
                        <Text text="â€¢ Cannot access a feature? Check if your role has permission" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Product not found? Ensure barcode is correct and product exists" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ Order not showing? Try refreshing the table or check date filters" style="-fx-fill: #64748b;"/>
                        <Text text="â€¢ System slow? Contact IT support for performance optimization" style="-fx-fill: #64748b;"/>
                    </VBox>
                </VBox>
                
                <!-- Contact Support -->
                <VBox spacing="25" styleClass="card-modern" style="-fx-background-color: #f0f9ff; -fx-border-color: #0ea5e9; -fx-padding: 10; -fx-border-width: 1;">
                    <Text text="ðŸ’¬ Need More Help?" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-fill: #0c4a6e;"/>
                    <Separator style="-fx-background-color: #bae6fd;"/>
                    
                    <VBox spacing="8">
                        <Text text="Contact Green Code Solution:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #075985;"/>
                        <Text text="ðŸ“§ Email: greencodesolution@gmail.com" style="-fx-fill: #0c4a6e;"/>
                        <Text text="ðŸ“ž Phone: +94 78 150 82 52" style="-fx-fill: #0c4a6e;"/>
                        <Text text="ðŸŒ Website: greencodesolution.web.lk" style="-fx-fill: #0c4a6e;"/>
                        <Text text="ðŸ“ Location: Wewala, Piliyandala, Colombo" style="-fx-fill: #0c4a6e;"/>
                    </VBox>
                </VBox>
                
                </VBox>
            </ScrollPane>
        </children>
    </VBox>
</AnchorPane>

