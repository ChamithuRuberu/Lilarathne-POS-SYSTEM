<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.Cursor?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<AnchorPane fx:id="context" styleClass="background-modern" xmlns="http://javafx.com/javafx/20.0.1"
            xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.devstack.pos.controller.ProductMainPageController"
            stylesheets="@styles/pos-styles.css">
    <children>
        <!-- Header Bar -->
        <VBox styleClass="header-bar" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
            <children>
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <Text styleClass="header-title" text="Product Management">
                        <font>
                            <Font name="System Bold" size="24.0"/>
                        </font>
                    </Text>
                    <Region HBox.hgrow="ALWAYS"/>
                    <JFXButton onAction="#btnBackToHomeOnAction" text="Back to Home" buttonType="RAISED"
                               styleClass="btn-secondary" prefWidth="140.0">
                        <font>
                            <Font name="System Bold" size="13.0"/>
                        </font>
                        <cursor>
                            <Cursor fx:constant="HAND"/>
                        </cursor>
                    </JFXButton>
                </HBox>
            </children>
        </VBox>

        <!-- Main Content -->
        <HBox spacing="24" style="-fx-padding: 32;" AnchorPane.topAnchor="72" AnchorPane.leftAnchor="32"
              AnchorPane.rightAnchor="32" AnchorPane.bottomAnchor="32">
            <!-- Left Panel - Product Form -->
            <VBox spacing="20" styleClass="form-section" prefWidth="450.0">
                <Text text="Product Information" styleClass="label-section">
                    <font>
                        <Font name="System Bold" size="20.0"/>
                    </font>
                </Text>

                <VBox spacing="12">
                    <VBox spacing="8">
                        <Text text="Product Code" styleClass="form-label">
                            <font>
                                <Font name="System Bold" size="14.0"/>
                            </font>
                        </Text>
                        <JFXTextField fx:id="txtProductCode" editable="false" promptText="Auto-generated"
                                      styleClass="text-field-modern" prefWidth="410.0">
                            <font>
                                <Font name="System" size="14.0"/>
                            </font>
                        </JFXTextField>
                    </VBox>

                    <VBox spacing="8">
                        <Text text="Description" styleClass="form-label">
                            <font>
                                <Font name="System Bold" size="14.0"/>
                            </font>
                        </Text>
                        <TextArea fx:id="txtDescription" promptText="Enter product description"
                                  styleClass="text-field-modern" prefHeight="100.0" prefWidth="410.0" wrapText="true">
                            <font>
                                <Font name="System" size="14.0"/>
                            </font>
                        </TextArea>
                    </VBox>

                    <HBox spacing="12" alignment="CENTER_RIGHT">
                        <JFXButton onAction="#btnNewProductOnAction" text="New Product" buttonType="RAISED"
                                   styleClass="btn-outline" prefWidth="140.0">
                            <font>
                                <Font name="System Bold" size="13.0"/>
                            </font>
                            <cursor>
                                <Cursor fx:constant="HAND"/>
                            </cursor>
                        </JFXButton>
                        <JFXButton onAction="#btnSaveProductOnAction" text="Save Product" buttonType="RAISED"
                                   styleClass="btn-primary" prefWidth="140.0">
                            <font>
                                <Font name="System Bold" size="13.0"/>
                            </font>
                            <cursor>
                                <Cursor fx:constant="HAND"/>
                            </cursor>
                        </JFXButton>
                    </HBox>

                    <VBox spacing="8" style="-fx-padding: 16 0;">
                        <Text text="Search Products" styleClass="form-label">
                            <font>
                                <Font name="System Bold" size="14.0"/>
                            </font>
                        </Text>
                        <JFXTextField fx:id="txtSearch" promptText="Search by code or description..."
                                      styleClass="text-field-modern" prefWidth="410.0" onAction="#searchProduct">
                            <font>
                                <Font name="System" size="14.0"/>
                            </font>
                        </JFXTextField>
                    </VBox>

                    <VBox spacing="12">
                        <Text text="Product List" styleClass="label-section">
                            <font>
                                <Font name="System Bold" size="18.0"/>
                            </font>
                        </Text>
                        <TableView fx:id="tblProducts" styleClass="table-view-modern" prefHeight="300.0">
                            <columns>
                                <TableColumn fx:id="colProductCode" prefWidth="80.0" text="Code">
                                    <font>
                                        <Font name="System Bold" size="13.0"/>
                                    </font>
                                </TableColumn>
                                <TableColumn fx:id="colProductDesc" prefWidth="200.0" text="Description">
                                    <font>
                                        <Font name="System Bold" size="13.0"/>
                                    </font>
                                </TableColumn>
                                <TableColumn fx:id="colProductOption" prefWidth="130.0" text="Actions">
                                    <font>
                                        <Font name="System Bold" size="13.0"/>
                                    </font>
                                </TableColumn>
                            </columns>
                        </TableView>
                    </VBox>
                </VBox>
            </VBox>

            <!-- Right Panel - Batch Details -->
            <VBox spacing="20" styleClass="form-section" HBox.hgrow="ALWAYS">
                <HBox alignment="CENTER_LEFT" spacing="12">
                    <Text text="Batch Details" styleClass="label-section">
                        <font>
                            <Font name="System Bold" size="20.0"/>
                        </font>
                    </Text>
                    <Region HBox.hgrow="ALWAYS"/>
                    <JFXButton onAction="#btnNewBatchOnAction" text="+ New Batch" buttonType="RAISED"
                               styleClass="btn-primary" prefWidth="140.0">
                        <font>
                            <Font name="System Bold" size="13.0"/>
                        </font>
                        <cursor>
                            <Cursor fx:constant="HAND"/>
                        </cursor>
                    </JFXButton>
                </HBox>

                <VBox spacing="12">
                    <VBox spacing="8">
                        <Text text="Selected Product" styleClass="form-label">
                            <font>
                                <Font name="System Bold" size="14.0"/>
                            </font>
                        </Text>
                        <JFXTextField fx:id="txtSelectedProductCode" editable="false" promptText="Select a product"
                                      styleClass="text-field-modern">
                            <font>
                                <Font name="System" size="14.0"/>
                            </font>
                        </JFXTextField>
                    </VBox>

                    <VBox spacing="8">
                        <Text text="Product Description" styleClass="form-label">
                            <font>
                                <Font name="System Bold" size="14.0"/>
                            </font>
                        </Text>
                        <TextArea fx:id="txtSelectedProdDescription" editable="false"
                                  promptText="Product description will appear here" styleClass="text-field-modern"
                                  prefHeight="100.0" wrapText="true">
                            <font>
                                <Font name="System" size="14.0"/>
                            </font>
                        </TextArea>
                    </VBox>

                    <VBox spacing="12">
                        <Text text="Batch List" styleClass="label-section">
                            <font>
                                <Font name="System Bold" size="18.0"/>
                            </font>
                        </Text>
                        <TableView fx:id="tblBatch" styleClass="table-view-modern" prefHeight="400.0">
                            <columns>
                                <TableColumn fx:id="colBatchCode" prefWidth="80.0" text="Code">
                                    <font>
                                        <Font name="System Bold" size="13.0"/>
                                    </font>
                                </TableColumn>
                                <TableColumn fx:id="colBatchQty" prefWidth="100.0" text="Quantity">
                                    <font>
                                        <Font name="System Bold" size="13.0"/>
                                    </font>
                                </TableColumn>
                                <TableColumn fx:id="colBatchSellingPrice" prefWidth="130.0" text="Selling Price">
                                    <font>
                                        <Font name="System Bold" size="13.0"/>
                                    </font>
                                </TableColumn>
                                <TableColumn fx:id="colBatchBuyingPrice" prefWidth="130.0" text="Buying Price">
                                    <font>
                                        <Font name="System Bold" size="13.0"/>
                                    </font>
                                </TableColumn>
                                <TableColumn fx:id="colBatchDiscount" prefWidth="80.0" text="Discount">
                                    <font>
                                        <Font name="System Bold" size="13.0"/>
                                    </font>
                                </TableColumn>
                                <TableColumn fx:id="colBatchShowPrice" prefWidth="130.0" text="Show Price">
                                    <font>
                                        <Font name="System Bold" size="13.0"/>
                                    </font>
                                </TableColumn>
                                <TableColumn fx:id="colBatchOption" prefWidth="150.0" text="Actions">
                                    <font>
                                        <Font name="System Bold" size="13.0"/>
                                    </font>
                                </TableColumn>
                            </columns>
                        </TableView>
                    </VBox>
                </VBox>
            </VBox>
        </HBox>
    </children>
</AnchorPane>
